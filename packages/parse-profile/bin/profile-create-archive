#!/usr/bin/env node

// tslint:disable:variable-name

const ui = require('commander');
const fs = require('fs');
const Profile = require('../dist/index.cjs');

ui.option('-u, --url <url>', 'Url to visit').parse(process.argv);

const cookies = JSON.parse(fs.readFileSync('cookies.json', 'utf8'));

if (!ui.url) {
  Profile.showError('You must pass a URL using the --url option');
  process.exit(1);
}

Profile.harTrace(ui.url, cookies);