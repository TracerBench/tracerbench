#!/usr/bin/env node
'use strict';

const Profile = require('../dist/index.cjs');
const ui = require('commander');

ui
  .option('-f, --file <file>', 'Path to trace json file')
  .option('-m, --methods <names|file>', 'List of methods to aggregate', methodNames)
  .option('-r, --report <dirPath>', 'Generates a report with aggregated sums for each heuristic category and aggregated sum across all heuristics')
  .option('-e, --event <eventName>', 'Slice time and see the events before and after the time slice')
  .option('-a, --archive <path>', 'Path to archive file')
  .option('--verbose', 'Verbose output')
  .parse(process.argv);

function methodNames(val) {
  return val.split(',');
}

let cli = new Profile.CLI(ui);
cli.run();